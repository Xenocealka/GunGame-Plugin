plugins {
    id 'java'
    id 'com.github.johnrengelman.shadow' version '7.1.2'
}

group 'com.xenoceal'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

compileJava.options.encoding = 'UTF-8'

tasks.withType(JavaCompile) {
	options.encoding = 'UTF-8'
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    compileOnly files('libs/spigot-1.12.2.jar')

    implementation 'fr.mrmicky:fastboard:1.2.1'
    implementation 'org.reflections:reflections:0.10.2'

    def lombok = 'org.projectlombok:lombok:1.18.24'
    compileOnly lombok
    annotationProcessor lombok
}

jar {
	from { 
		configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
	}
}

shadowJar {
    relocate 'fr.mrmicky.fastboard', 'com.xenoceal.gungame.fastboard'
}